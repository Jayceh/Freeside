<%doc>

Example:

  include('/elements/htmlarea.html',
            'field'      => 'fieldname',
            'curr_value' => $curr_value,
            'height'     => 800,
         );

</%doc>

% #init
<SCRIPT TYPE="text/javascript" src="<% $p %>elements/ckeditor/ckeditor.js">
</SCRIPT>

% #editor
<textarea name="<% $opt{'field'} %>"><% $opt{'curr_value'} |h %></textarea>

<SCRIPT TYPE="text/javascript">

  CKEDITOR.replace('<% $opt{'field'} %>', {
%   if ( $opt{'width'} ) {
      width: <% $opt{'width'} %>,
%   }
    height: <% $opt{'height'} || 420 %>,
    startupFocus: true,
    toolbarCanCollapse: true,
    basePath: '<% $p %>elements/ckeditor/',
    enterMode: 2
  });

</SCRIPT>

<%init>

my %opt = @_;

</%init>
